<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=referrer content="no-referrer-when-downgrade">
<title>Posts | Kxn's eXercise Notes</title>
<meta property="og:title" content="Posts - Kxn's eXercise Notes">
<meta property="og:type" content="article">
<meta name=Keywords content>
<meta name=description content="Posts">
<meta name=author content="kxn">
<meta property="og:url" content="https://kxn.github.io/post/">
<link rel="shortcut icon" href=/favicon.ico type=image/x-icon>
<link rel=stylesheet href=/css/normalize.css>
<link rel=stylesheet href=/css/style.css>
<link rel=alternate type=application/rss+xml href=https://kxn.github.io/post/index.xml title="Kxn's eXercise Notes">
<script type=text/javascript src=//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js></script>
<link rel=stylesheet href=/css/douban.css>
<link rel=stylesheet href=/css/other.css>
</head>
<body>
<header id=header class=clearfix>
<div class=container>
<div class=col-group>
<div class=site-name>
<a id=logo href=https://kxn.github.io>
Kxn's eXercise Notes
</a>
<p class=description>Knowledge Sharing</p>
</div>
<div>
<nav id=nav-menu class=clearfix>
<a class=current href=https://kxn.github.io>首页</a>
<a href=https://kxn.github.io/archives/ title=归档>归档</a>
<a href=https://kxn.github.io/about-me/ title="About Me">About Me</a>
</nav>
</div>
</div>
</div>
</header>
<div id=body>
<div class=container>
<div class=col-group>
<div class=col-8 id=main>
<div class=res-cons>
<article class=post>
<header>
<h1 class=post-title>
<a href=https://kxn.github.io/post/51.html title=有趣的Winsock扩展>有趣的Winsock扩展</a>
</h1>
</header>
<date class="post-meta meta-date">
2005年12月23日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/Tech-Notes>Tech Notes</a></span>
</div>
<div class=post-content>
Winsock 大部分函数都是从 BSD socket 来的，不过 Winsock 做了不少扩展，其中有不少相当有趣。 1: 异步 Socket： 这个是 Winsock 的最大亮点，不过很多人都知道，就没有那么有趣了 2: ConnectEx 和 AcceptEx：这俩函数看起来是个批处理操作，比如 AcceptEx 就等于 accept + 一次 recv，这看起来很没道理，有必要这么兴师动众吗？其实不然，在高……
</div>
<p class=readmore><a href=https://kxn.github.io/post/51.html>阅读全文</a></p>
</article>
<article class=post>
<header>
<h1 class=post-title>
<a href=https://kxn.github.io/post/50.html title="Apache 2精简版本">Apache 2精简版本</a>
</h1>
</header>
<date class="post-meta meta-date">
2005年12月21日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/Tech-Notes>Tech Notes</a></span>
</div>
<div class=post-content>
去掉所有 mod， 只用来作 pv log，同时用 icc 编译之 CC=icc CXX=icc AR=xiar LD=xild CFLAGS="-O3 -ipo -axKWP -funroll-loops -unroll256 -static -mcpu=pentium4 -mtune=pentium4 -march=pentium4 -fomit-frame-pointer -static-libcxa -cxxlib-icc -i-static -fno-exceptions -no-prec-div" LDFLAGS="-ipo -static" ./configure &ndash;with-mpm=leader &ndash;disable-access &ndash;disable-auth &ndash;disable-include &ndash;disable-env &ndash;disable-setenvif &ndash;disable-mime &ndash;disable-status &ndash;disable-autoindex &ndash;disable-asis &ndash;disable-cgid &ndash;disable-cgi &ndash;disable-negotiation &ndash;disable-dir &ndash;disable-imap &ndash;disable-actions &ndash;disable-userdir &ndash;disable-alias &ndash;disable-so &ndash;enable-nonportable-atomics=yes……
</div>
<p class=readmore><a href=https://kxn.github.io/post/50.html>阅读全文</a></p>
</article>
<article class=post>
<header>
<h1 class=post-title>
<a href=https://kxn.github.io/post/49.html title="不要使用 cp 替换正在使用中的Linux 动态库">不要使用 cp 替换正在使用中的Linux 动态库</a>
</h1>
</header>
<date class="post-meta meta-date">
2005年12月21日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/Coding>Coding</a></span>
<span class=meta-category><a href=/categories/Tech-Notes>Tech Notes</a></span>
</div>
<div class=post-content>
记得以前如果一个.so 被 load 了，应该和程序本身一样，不能覆盖啊，强行覆盖也不会覆盖原来的 inode，而是创建新的 inode 并替换当前目录里面的 inode, 原来打开的文件还是正确的。 但是最近发现在 Linux i386 上面 load .so 以后覆盖 .so ，没有任何提示，正在运行的程序退出时侯则通常都会 segfault. 和 sparc 很像了。 难道我记错了吗？ 用 strace 看……
</div>
<p class=readmore><a href=https://kxn.github.io/post/49.html>阅读全文</a></p>
</article>
<article class=post>
<header>
<h1 class=post-title>
<a href=https://kxn.github.io/post/44.html title="mod_extract_forwarded for lighttpd">mod_extract_forwarded for lighttpd</a>
</h1>
</header>
<date class="post-meta meta-date">
2005年12月19日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/Coding>Coding</a></span>
<span class=meta-category><a href=/categories/Tech-Notes>Tech Notes</a></span>
</div>
<div class=post-content>
今天花了一点时间，用 lighttpd 的 mod_skeleton.c 划拉了一个 mod_extforward.c 出来，功能类似 Apache 上面的 mod_extract_forwarded.c ，都是用来从 X-Forwarded-For 里面截取出来对方真实 IP 用，特别适合在 squid 后面的机器用，或者有人像我一样，爱好用 mod_proxy 穿来穿去的。不过这个 mod 功能弱很多就是了。 使用方法很简单 , 编译出来这个 module 并复制到 lighttpd 的 lib 目录里面。 在 lighttpd.conf 的 server.modules 里面加上 mod_extforward 配置类似下面这……
</div>
<p class=readmore><a href=https://kxn.github.io/post/44.html>阅读全文</a></p>
</article>
<article class=post>
<header>
<h1 class=post-title>
<a href=https://kxn.github.io/post/43.html title=搞掉lighttpd好多LAST_ACK的状态了>搞掉lighttpd好多LAST_ACK的状态了</a>
</h1>
</header>
<date class="post-meta meta-date">
2005年12月19日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/Tech-Notes>Tech Notes</a></span>
</div>
<div class=post-content>
终于想通既然只有 CLOSE_WAIT 状态会到 LAST_ACK ，不如干脆堵住 CLOSE_WAIT 产生的源头。于是关掉 lighttpd 的 keep alive , 果然一下就几乎没了。 不过不支持 keep alive 的 client 真的对 keep alive 的 server 杀伤这么大吗？小 s 家的 lig 上面就几乎没有 LAST_ACK 。为啥就我这里有。。……
</div>
<p class=readmore><a href=https://kxn.github.io/post/43.html>阅读全文</a></p>
</article>
<article class=post>
<header>
<h1 class=post-title>
<a href=https://kxn.github.io/post/41.html title=今天对某站做的优化>今天对某站做的优化</a>
</h1>
</header>
<date class="post-meta meta-date">
2005年12月16日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/Tech-Notes>Tech Notes</a></span>
</div>
<div class=post-content>
1: 用 lighttpd 替换掉了一部分 apache 2: 给 php 加装了 eac 3: squid 增加了 epoll patch ， 并用 icc ipo 编译 4: MySQL server 改跑 Max 的版本 但是似乎看不太出来改变啊。。。sigh……
</div>
<p class=readmore><a href=https://kxn.github.io/post/41.html>阅读全文</a></p>
</article>
<article class=post>
<header>
<h1 class=post-title>
<a href=https://kxn.github.io/post/40.html title=好像被双域名把排名降低了>好像被双域名把排名降低了</a>
</h1>
</header>
<date class="post-meta meta-date">
2005年12月16日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/Uncategorized>Uncategorized</a></span>
</div>
<div class=post-content>
这个机器有两个域名，kangkang.org 和 comman.org，前者在 baidu 的排名比后者高一些，baidu 的库里面两者都有，因此他有时候用前者来抓，有时候用后者来抓，一篇文章发出来，用两个域名抓到的内容都是一样的，因为 clustor 的关系，只会有一篇出来，如果用前者先抓，rank 就高，用后者……
</div>
<p class=readmore><a href=https://kxn.github.io/post/40.html>阅读全文</a></p>
</article>
<article class=post>
<header>
<h1 class=post-title>
<a href=https://kxn.github.io/post/39.html title="用yum或者apt-get等包管理工具在线升级 rpm based Linux系统">用yum或者apt-get等包管理工具在线升级 rpm based Linux系统</a>
</h1>
</header>
<date class="post-meta meta-date">
2005年12月13日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/Network>Network</a></span>
<span class=meta-category><a href=/categories/Tech-Notes>Tech Notes</a></span>
</div>
<div class=post-content>
爱好 debian 的 Linuxer 通常很看不上基于 rpm 的系统，和 debian 的 apt 系统比起来，RedHat 的 up2date 简直就是一个鸡肋，升级要账号不说，网络稍微有点毛病，就彻底卡死了。还不能建立个人镜像，每次都得从米国 redhat 的老家下，非常之慢。最重要的，up2date 并不支持 apt-get dist-upgrade 这样跨越 dist 的升级，装了 RH 7.3 这样的老系统，就只能一条……
</div>
<p class=readmore><a href=https://kxn.github.io/post/39.html>阅读全文</a></p>
</article>
<article class=post>
<header>
<h1 class=post-title>
<a href=https://kxn.github.io/post/38.html title="用 icc ipo 编译 squid">用 icc ipo 编译 squid</a>
</h1>
</header>
<date class="post-meta meta-date">
2005年12月13日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/Network>Network</a></span>
<span class=meta-category><a href=/categories/Tech-Notes>Tech Notes</a></span>
</div>
<div class=post-content>
其实就是要把 Makefile 里面的 ar 换成 xiar，这不是一个很难的事情，但是 squid 不知道用的什么版本的 autotools, 如果重新生成 Makefile 的话，会有很多乱七八糟的错误，而且还编译不过，因此最简单的办法是直接在 configure 之后，替换所有 ar 为 xiar 就好了 configure 参数我用的这个 CC=icc CXX=icc CFLAGS="-O3 -ipo -axKWP -funroll-loops -unroll256 -mcpu=pentium4 -mtune=pentium4 -march=pentium4 -fomit-frame-pointer -static-libcxa -cxxlib-icc -i-static -fno-exceptions -no-prec-div" ./configure &ndash;enable-epoll &ndash;prefix=/var/test/squid &ndash;enable-storeio=&ldquo;aufs,ufs,diskd&rdquo; &ndash;with-aufs-threads=3 &ndash;with-pthreads &ndash;enable-removal-policies=heap,lru &ndash;disable-delay-pools &ndash;enable-underscores &ndash;disable-ident-lookups &ndash;enable-time-hack &ndash;enable-cache-digests &ndash;disable-forw-via-db 然后简单……
</div>
<p class=readmore><a href=https://kxn.github.io/post/38.html>阅读全文</a></p>
</article>
<article class=post>
<header>
<h1 class=post-title>
<a href=https://kxn.github.io/post/37.html title="MP3 Player Test">MP3 Player Test</a>
</h1>
</header>
<date class="post-meta meta-date">
2005年12月12日
</date>
<div class=post-meta>
<span>|</span>
<span class=meta-category><a href=/categories/Entertainment>Entertainment</a></span>
</div>
<div class=post-content>
从 quickmachine.com 搞来的插件 点击下面的按钮播放，浏览器需要支持 Flash 梁静茹.最后……
</div>
<p class=readmore><a href=https://kxn.github.io/post/37.html>阅读全文</a></p>
</article>
<ol class=page-navigator>
<li class=prev>
<a href=https://kxn.github.io/post/page/18/>上一页</a>
</li>
<li>
<a href=https://kxn.github.io/post/>1</a>
</li>
<li>
<span>...</span>
</li>
<li>
<a href=https://kxn.github.io/post/page/17/>17</a>
</li>
<li>
<a href=https://kxn.github.io/post/page/18/>18</a>
</li>
<li class=current>
<a href=https://kxn.github.io/post/page/19/>19</a>
</li>
<li>
<a href=https://kxn.github.io/post/page/20/>20</a>
</li>
<li>
<a href=https://kxn.github.io/post/page/21/>21</a>
</li>
<li>
<span>...</span>
</li>
<li>
<a href=https://kxn.github.io/post/page/22/>22</a>
</li>
<li class=next>
<a href=https://kxn.github.io/post/page/20/>下一页</a>
</li>
</ol>
</div>
<footer id=footer>
<div>
&copy; 2021 <a href=https://kxn.github.io>Kxn's eXercise Notes By kxn</a>
</div>
<br>
<div>
<div class=github-badge>
<a href=https://gohugo.io/ target=_black rel=nofollow><span class=badge-subject>Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
</div>
<div class=github-badge>
<a href=https://www.flysnow.org/ target=_black><span class=badge-subject>Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
</div>
<div class=github-badge>
<a href=https://github.com/flysnow-org/maupassant-hugo target=_black><span class=badge-subject>Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
</div>
</div>
</footer>
<a id=rocket href=#top></a>
<script type=text/javascript src="/js/totop.js?v=0.0.0" async></script>
<script type=text/javascript src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async></script>
<script src=/js/douban.js></script>
</div>
<div id=secondary>
<section class=widget>
<form id=search action=https://kxn.github.io/search/ method=get accept-charset=utf-8 target=_blank _lpchecked=1>
<input type=text name=q maxlength=20 placeholder=Search>
<input type=hidden name=sitesearch value=https://kxn.github.io>
<button type=submit class="submit icon-search"></button>
</form>
</section>
<section class=widget>
<h3 class=widget-title>最近文章</h3>
<ul class=widget-list>
<li>
<a href=https://kxn.github.io/post/557.html title="MSI B550 暗黑版跑黑苹果">MSI B550 暗黑版跑黑苹果</a>
</li>
<li>
<a href=https://kxn.github.io/post/553.html title="最简单的打造一台能够 RenderDoc 的手机">最简单的打造一台能够 RenderDoc 的手机</a>
</li>
<li>
<a href=https://kxn.github.io/post/541.html title="编译 RenderDoc 的安卓 apk(带interceptor-lib)">编译 RenderDoc 的安卓 apk(带interceptor-lib)</a>
</li>
<li>
<a href=https://kxn.github.io/post/532.html title=Linux下解决同一硬盘因为连接设备不一样导致扇区大小不一致的问题>Linux下解决同一硬盘因为连接设备不一样导致扇区大小不一致的问题</a>
</li>
<li>
<a href=https://kxn.github.io/post/529.html title="RHEL/CentOS/OracleLinux 8  yum 能看到，安装却没有的情况">RHEL/CentOS/OracleLinux 8 yum 能看到，安装却没有的情况</a>
</li>
<li>
<a href=https://kxn.github.io/post/521.html title=让服务器响应整个网段中的请求>让服务器响应整个网段中的请求</a>
</li>
<li>
<a href=https://kxn.github.io/post/514.html title="不要买技嘉 X570 Gaming X 主板">不要买技嘉 X570 Gaming X 主板</a>
</li>
<li>
<a href=https://kxn.github.io/post/509.html title="Golang socket 里面奇怪的 pipe 使用">Golang socket 里面奇怪的 pipe 使用</a>
</li>
<li>
<a href=https://kxn.github.io/post/504.html title=用RenderDoc和安卓模拟器抓帧手游>用RenderDoc和安卓模拟器抓帧手游</a>
</li>
<li>
<a href=https://kxn.github.io/post/500.html title="解决 Mac 电脑原生 EFI 安装 Windows 启动很慢的问题">解决 Mac 电脑原生 EFI 安装 Windows 启动很慢的问题</a>
</li>
</ul>
</section>
<section class=widget>
<h3 class=widget-title><a href=/categories/>分类</a></h3>
<ul class=widget-list>
<li><a href=https://kxn.github.io/categories/Coding/>Coding (12)</a></li>
<li><a href=https://kxn.github.io/categories/Entertainment/>Entertainment (5)</a></li>
<li><a href=https://kxn.github.io/categories/Network/>Network (33)</a></li>
<li><a href=https://kxn.github.io/categories/Pictures/>Pictures (2)</a></li>
<li><a href=https://kxn.github.io/categories/Software/>Software (27)</a></li>
<li><a href=https://kxn.github.io/categories/Tech-Notes/>Tech Notes (174)</a></li>
<li><a href=https://kxn.github.io/categories/Uncategorized/>Uncategorized (30)</a></li>
</ul>
</section>
<section class=widget>
<h3 class=widget-title><a href=/tags/>标签</a></h3>
<div class=tagcloud>
<a href=https://kxn.github.io/tags/.xsession-errors/>.xsession-errors</a>
<a href=https://kxn.github.io/tags/139/>139</a>
<a href=https://kxn.github.io/tags/720/>720</a>
<a href=https://kxn.github.io/tags/CentOS/>CentOS</a>
<a href=https://kxn.github.io/tags/adsl/>adsl</a>
<a href=https://kxn.github.io/tags/aliedit/>aliedit</a>
<a href=https://kxn.github.io/tags/bad-design/>bad design</a>
<a href=https://kxn.github.io/tags/buggy/>buggy</a>
<a href=https://kxn.github.io/tags/chdk-a570-canon/>chdk a570 canon</a>
<a href=https://kxn.github.io/tags/cname/>cname</a>
<a href=https://kxn.github.io/tags/dns/>dns</a>
<a href=https://kxn.github.io/tags/error/>error</a>
<a href=https://kxn.github.io/tags/fail/>fail</a>
<a href=https://kxn.github.io/tags/filesort/>filesort</a>
<a href=https://kxn.github.io/tags/fragrance-hill/>fragrance hill</a>
<a href=https://kxn.github.io/tags/google-chrome/>google chrome</a>
<a href=https://kxn.github.io/tags/gps/>gps</a>
<a href=https://kxn.github.io/tags/gzip/>gzip</a>
<a href=https://kxn.github.io/tags/half-duplex/>half duplex</a>
<a href=https://kxn.github.io/tags/ipv6-isatap-fedora/>ipv6 isatap fedora</a>
<a href=https://kxn.github.io/tags/javascript/>javascript</a>
<a href=https://kxn.github.io/tags/jtag-debrick-dell-2300-%E6%97%A0%E7%BA%BF%E8%B7%AF%E7%94%B1%E5%99%A8-%E4%BF%AE%E5%A4%8D-openwrt/>jtag debrick dell 2300 无线路由器 修复 openwrt</a>
<a href=https://kxn.github.io/tags/mobile-trail-explorer/>mobile trail explorer</a>
<a href=https://kxn.github.io/tags/mysql/>mysql</a>
<a href=https://kxn.github.io/tags/mysql-replication/>mysql replication</a>
<a href=https://kxn.github.io/tags/optimize/>optimize</a>
<a href=https://kxn.github.io/tags/performance/>performance</a>
<a href=https://kxn.github.io/tags/pushmail/>pushmail</a>
<a href=https://kxn.github.io/tags/query-cache/>query cache</a>
<a href=https://kxn.github.io/tags/qwerty/>qwerty</a>
<a href=https://kxn.github.io/tags/remote-backup/>remote backup</a>
<a href=https://kxn.github.io/tags/shortcut/>shortcut</a>
<a href=https://kxn.github.io/tags/slow-machine/>slow machine</a>
<a href=https://kxn.github.io/tags/sony-ericsson-m600i/>sony ericsson m600i</a>
<a href=https://kxn.github.io/tags/ssl/>ssl</a>
<a href=https://kxn.github.io/tags/trackback/>trackback</a>
<a href=https://kxn.github.io/tags/ucweb-6.3/>ucweb 6.3</a>
<a href=https://kxn.github.io/tags/unstable/>unstable</a>
<a href=https://kxn.github.io/tags/wildcard/>wildcard</a>
<a href=https://kxn.github.io/tags/xp/>xp</a>
<a href=https://kxn.github.io/tags/%E4%B8%93%E4%B8%9A%E7%89%88/>专业版</a>
<a href=https://kxn.github.io/tags/%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98/>安全问题</a>
<a href=https://kxn.github.io/tags/%E6%8B%9B%E8%A1%8C/>招行</a>
<a href=https://kxn.github.io/tags/%E6%96%90%E8%AE%AFN1/>斐讯N1</a>
<a href=https://kxn.github.io/tags/%E9%A9%B1%E5%8A%A8/>驱动</a>
</div>
</section>
<section class=widget>
<h3 class=widget-title>友情链接</h3>
<ul class=widget-list>
<li>
<a target=_blank href=https://blog.kangkang.net/ title=我的非技术blog>我的非技术blog</a>
</li>
</ul>
</section>
<section class=widget>
<h3 class=widget-title>其它</h3>
<ul class=widget-list>
<li><a href=https://kxn.github.io/index.xml>文章 RSS</a></li>
</ul>
</section>
</div>
</div>
</div>
</div>
</body>
</html>